<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Drive (Disabled by Default)</title>
    <script src="/dist/turbo.es2017-umd.js" data-turbo-track="reload"></script>
    <script src="/src/tests/fixtures/test.js"></script>
    <script type="module">
      addEventListener("click", event => {
        if (event.target.id == "requestSubmit") {
          event.preventDefault()
          const form = event.target.closest('form')
          form.requestSubmit()
        }
      })
    </script>
    <script>
      Turbo.session.drive = false
    </script>
  </head>
  <body>
    <h1>Drive (Disabled by Default)</h1>

    <div data-turbo="true">
      <a id="drive_enabled" href="/src/tests/fixtures/drive_disabled.html">Drive enabled link</a>
    </div>

    <div>
      <a id="drive_disabled" href="/src/tests/fixtures/drive_disabled.html">Drive disabled link</a>
    </div>

    <form action="/__turbo/redirect" method="post" id="no_submitter_drive_enabled" data-turbo="true">
      <input type="hidden" name="path" value="/src/tests/fixtures/form.html">
      <input type="hidden" name="greeting" value="Hello from a redirect">
      <a href="#" id="requestSubmit">Drive enabled submit via JS</a>
    </form>

    <turbo-frame id="frame">
      <h2>Hello from a frame</h2>

      <a href="/src/tests/fixtures/drive_disabled.html">Navigate #frame</a>
      <form action="/src/tests/fixtures/drive_disabled.html">
        <button>Navigate #frame</button>
      </form>
      <custom-link-element link="/src/tests/fixtures/frames/frame.html">
        <span id="frame-navigation-with-slot">Link in slot</span>
      </custom-link-element>
    </turbo-frame>
  </body>
</html>
